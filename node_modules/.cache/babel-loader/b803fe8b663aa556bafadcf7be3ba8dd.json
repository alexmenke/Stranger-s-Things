{"ast":null,"code":"import _regeneratorRuntime from\"/Users/alexmenke/Fullstack/course_work/project_10/strangersThings/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/alexmenke/Fullstack/course_work/project_10/strangersThings/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/alexmenke/Fullstack/course_work/project_10/strangersThings/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{addNewPost}from'../api';import{Grid,Paper,TextField,Button}from'@mui/material';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NewPost=function NewPost(_ref){var token=_ref.token,navigate=_ref.navigate,fetchPosts=_ref.fetchPosts;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),price=_useState6[0],setPrice=_useState6[1];var _useState7=useState('On Request'),_useState8=_slicedToArray(_useState7,2),location=_useState8[0],setLocation=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),willDeliver=_useState10[0],setWillDeliver=_useState10[1];var addPost=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var results;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return addNewPost(token,{title:title,description:description,price:price,location:location,willDeliver:willDeliver});case 2:results=_context.sent;if(results.success){fetchPosts();navigate('/posts');}else{alert('Error creating new post, please try again.');}case 4:case\"end\":return _context.stop();}}},_callee);}));return function addPost(){return _ref2.apply(this,arguments);};}();var paperStyle={padding:20,height:'70vh',width:300,margin:'20px auto'};return/*#__PURE__*/_jsx(Grid,{children:/*#__PURE__*/_jsx(Paper,{elevation:10,style:paperStyle,children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(event){event.preventDefault();},children:[/*#__PURE__*/_jsx(Grid,{align:\"center\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Create a new post\"})}),/*#__PURE__*/_jsx(TextField,{label:\"Title\",placeholder:\"Enter title\",fullWidth:true,required:true,onChange:function onChange(event){return setTitle(event.target.value);}}),/*#__PURE__*/_jsx(TextField,{label:\"Description\",placeholder:\"Enter description\",fullWidth:true,required:true,onChange:function onChange(event){return setDescription(event.target.value);}}),/*#__PURE__*/_jsx(TextField,{label:\"Price\",placeholder:\"Enter price\",fullWidth:true,required:true,onChange:function onChange(event){return setPrice(event.target.value);}}),/*#__PURE__*/_jsx(TextField,{label:\"Location\",placeholder:\"Enter location\",fullWidth:true,required:true,onChange:function onChange(event){return setLocation(event.target.value);}}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return addPost();},type:\"submit\",color:\"primary\",variant:\"contained\",fullWidth:true,children:\"Add Post\"})]})})});};export default NewPost;","map":{"version":3,"names":["React","useState","addNewPost","Grid","Paper","TextField","Button","NewPost","token","navigate","fetchPosts","title","setTitle","description","setDescription","price","setPrice","location","setLocation","willDeliver","setWillDeliver","addPost","results","success","alert","paperStyle","padding","height","width","margin","event","preventDefault","target","value"],"sources":["/Users/alexmenke/Fullstack/course_work/project_10/strangersThings/src/components/NewPost.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { addNewPost } from '../api';\nimport {\n  Grid,\n  Paper,\n  TextField,\n  Button\n} from '@mui/material'\n\n\nconst NewPost = ({ token, navigate, fetchPosts }) => {\n  const [title, setTitle] = useState('');\n  const [description, setDescription] = useState('');\n  const [price, setPrice] = useState('');\n  const [location, setLocation] = useState('On Request');\n  const [willDeliver, setWillDeliver] = useState(false);\n\n  const addPost = async () => {\n    const results = await addNewPost(token, { title, description, price, location, willDeliver });\n    if (results.success) {\n      fetchPosts();\n      navigate('/posts');\n    } else {\n      alert('Error creating new post, please try again.')\n    }\n  }\n\n  const paperStyle = {\n    padding: 20,\n    height: '70vh',\n    width: 300,\n    margin: '20px auto'\n  }\n\n  return (\n    <Grid>\n      <Paper elevation={10} style={paperStyle}>\n        <form onSubmit={(event) => {\n          event.preventDefault();\n        }}>\n          <Grid align='center'><h2>Create a new post</h2></Grid>\n          <TextField label=\"Title\" placeholder=\"Enter title\" fullWidth required onChange={(event) => setTitle(event.target.value)} />\n          <TextField label=\"Description\" placeholder=\"Enter description\" fullWidth required onChange={(event) => setDescription(event.target.value)} />\n          <TextField label=\"Price\" placeholder=\"Enter price\" fullWidth required onChange={(event) => setPrice(event.target.value)}/>\n          <TextField label=\"Location\" placeholder=\"Enter location\" fullWidth required onChange={(event) => setLocation(event.target.value)}/>\n          <Button onClick={() => addPost()} type='submit' color='primary' variant='contained' fullWidth>Add Post</Button>\n        </form>\n      </Paper>\n    </Grid>\n  )\n}\n\nexport default NewPost;"],"mappings":"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"},"metadata":{},"sourceType":"module"}