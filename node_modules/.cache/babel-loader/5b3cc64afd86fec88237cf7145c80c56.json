{"ast":null,"code":"import _slicedToArray from\"/Users/alexmenke/Fullstack/course_work/project_10/strangersThings/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{Link}from'react-router-dom';import{Paper,Button,Card,CardContent,CardActions,TextField}from'@mui/material';import styles from'../style.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Posts=function Posts(_ref){var posts=_ref.posts,token=_ref.token;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),searchTerm=_useState2[0],setSearchTerm=_useState2[1];var postMatches=function postMatches(post,string){var title=post.title,description=post.description;if(title.toLowerCase().includes(string.toLowerCase())||description.toLowerCase().includes(string.toLowerCase())){return post;}};var filteredPosts=posts.filter(function(post){return postMatches(post,searchTerm);});var postsToDisplay=searchTerm.length?filteredPosts:posts;var paperStyle={padding:20,width:350,margin:'20px auto'};if(postsToDisplay.length){return/*#__PURE__*/_jsxs(\"div\",{className:\"postContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"postHeader\",children:[/*#__PURE__*/_jsx(\"form\",{onSubmit:function onSubmit(event){event.preventDefault();},children:/*#__PURE__*/_jsx(TextField,{className:\"searchBar\",type:\"text\",placeholder:\"Enter search here...\",onChange:function onChange(event){return setSearchTerm(event.target.value);}})}),token?/*#__PURE__*/_jsx(Link,{to:\"/posts/new-post\",children:/*#__PURE__*/_jsx(Button,{className:\"newPostButton\",variant:\"contained\",children:\"Create New Post\"})}):/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Register\"}),\" or \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"login\"}),\" to create a post.\"]})]}),postsToDisplay.map(function(post){var description=post.description,location=post.location,price=post.price,title=post.title,willDeliver=post.willDeliver,_id=post._id,isAuthor=post.isAuthor;return/*#__PURE__*/_jsx(\"div\",{className:\"posts\",children:/*#__PURE__*/_jsx(Paper,{elevation:10,style:paperStyle,children:/*#__PURE__*/_jsxs(Card,{className:styles.singlePost,children:[/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"postTitle\",children:title}),/*#__PURE__*/_jsxs(\"p\",{className:\"postInfo\",children:[\"Description: \",description]}),/*#__PURE__*/_jsxs(\"p\",{className:\"postInfo\",children:[\"Price: \",price]}),/*#__PURE__*/_jsxs(\"p\",{className:\"postInfo\",children:[\"Location: \",location]}),/*#__PURE__*/_jsxs(\"p\",{className:\"postInfo\",children:[\"Delivery: \",willDeliver]})]}),/*#__PURE__*/_jsx(CardActions,{children:isAuthor?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/posts/edit-post/\".concat(_id),children:/*#__PURE__*/_jsx(Button,{children:\"Edit Post\"})}),/*#__PURE__*/_jsx(Link,{to:\"/posts/\".concat(_id),children:/*#__PURE__*/_jsx(Button,{children:\"View Post\"})})]}):/*#__PURE__*/_jsx(Link,{to:\"/posts/\".concat(_id),children:/*#__PURE__*/_jsx(Button,{children:\"View Post\"})})})]})})},_id);})]});}else{return/*#__PURE__*/_jsx(\"h1\",{children:\"Loading posts...\"});}};export default Posts;","map":{"version":3,"names":["React","useState","Link","Paper","Button","Card","CardContent","CardActions","TextField","styles","Posts","posts","token","searchTerm","setSearchTerm","postMatches","post","string","title","description","toLowerCase","includes","filteredPosts","filter","postsToDisplay","length","paperStyle","padding","width","margin","event","preventDefault","target","value","map","location","price","willDeliver","_id","isAuthor","singlePost"],"sources":["/Users/alexmenke/Fullstack/course_work/project_10/strangersThings/src/components/Posts.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport {\n  Paper,\n  Button,\n  Card,\n  CardContent,\n  CardActions,\n  TextField,\n} from '@mui/material';\nimport styles from '../style.css';\n\n\nconst Posts = ({ posts, token }) => {\n  const [searchTerm, setSearchTerm] = useState('');\n\n  const postMatches = (post, string) => {\n    const { title, description } = post;\n\n    if ((title.toLowerCase().includes(string.toLowerCase())) || description.toLowerCase().includes(string.toLowerCase())) {\n      return post;\n    }\n  }\n\n  const filteredPosts = posts.filter(post => postMatches(post, searchTerm));\n  const postsToDisplay = searchTerm.length ? filteredPosts : posts;\n\n  const paperStyle = {\n    padding: 20,\n    width: 350,\n    margin: '20px auto'\n  }\n\n  if (postsToDisplay.length) {\n    return (\n      <div className='postContainer'>\n        <div className='postHeader'>\n          <form onSubmit={(event) => {\n            event.preventDefault();\n          }}>\n            <TextField\n              className='searchBar'\n              type='text'\n              placeholder='Enter search here...'\n              onChange={(event) => setSearchTerm(event.target.value)}>\n            </TextField>\n          </form>\n\n          {\n            token ? (\n              <Link to='/posts/new-post'>\n                <Button className='newPostButton' variant='contained'>Create New Post</Button>\n              </Link>\n            ) : (\n              <p><Link to='/register'>Register</Link> or <Link to='/login'>login</Link> to create a post.</p>\n            )\n          }\n        </div>\n\n        {\n          postsToDisplay.map((post) => {\n            const { description, location, price, title, willDeliver, _id, isAuthor } = post;\n            return (\n              <div className='posts'\n                key={_id}>\n                <Paper elevation={10} style={paperStyle}>\n                  <Card\n                    className={styles.singlePost}>\n                    <CardContent>\n                      <h3 className='postTitle'>{title}</h3>\n                      <p className='postInfo'>Description: {description}</p>\n                      <p className='postInfo'>Price: {price}</p>\n                      <p className='postInfo'>Location: {location}</p>\n                      <p className='postInfo'>Delivery: {willDeliver}</p>\n                    </CardContent>\n                    <CardActions>\n                      {\n                        isAuthor ? (\n                          <>\n                            <Link to={`/posts/edit-post/${_id}`}><Button>Edit Post</Button></Link>\n                            <Link to={`/posts/${_id}`}><Button>View Post</Button></Link>\n                          </>\n                        ) : (\n                          <Link to={`/posts/${_id}`}><Button>View Post</Button></Link>\n                        )\n                      }\n                    </CardActions>\n                  </Card>\n                </Paper>\n              </div>\n            )\n          })\n        }\n      </div>\n    )\n  } else {\n    return (\n      <h1>Loading posts...</h1>\n    )\n  }\n\n}\n\nexport default Posts;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}